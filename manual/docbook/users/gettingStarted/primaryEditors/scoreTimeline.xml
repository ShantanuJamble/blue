<section id="scoreTimeline">
  <title>Score Timeline</title>

  <screenshot>
    <screeninfo>Score Timeline</screeninfo>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/scoreTab.png" format="PNG" />
      </imageobject>
      <textobject>
        <phrase>Score Timeline</phrase>
      </textobject>
      <caption>
        <para>Score Timeline</para>
      </caption>
    </mediaobject>
  </screenshot>

  <simplesect>
    <title>Play Bar</title>

    <para>
      The play bar at the top has a field for setting what time you want the
      score to play from, a play/stop button to start and stop playing, and a
      help button. When the play/stop button is used, blue will generate a .CSD
      file from the current work file, starting from the play time given in the
      field, and will use the command line given in the project properties tab
      to use to play the .CSD file.
    </para>

  </simplesect>

  <simplesect>
    <title>PolyObject Bar</title>

    <para>
      the poly object bar (shown above with only one polyObject, "root") shows
      what polyObject you are currently editting. if you were to add a
      polyObject named "phrase 1" to the main timeline shown above, then double
      click that polyObject to edit it, the polyObject bar would have two
      buttons on it, one for "root", and one for "phrase 1". you would then be
      editting "phrase 1"'s timeline. by clicking on the "root" button of the
      timeline, you would then return out of the polyObject's timeline and back
      in the root's timeline.
    </para>

  </simplesect>


  <simplesect>
    <title>SoundLayer Editor</title>

    <para>
      Below the polyObject bar on the left, you will see the soundLayer edittor.
      here you can change the name of the soundLayer, as well as mute the layer
      (all soundObject's on muted layers will not be used to generate notes when
      creating .CSD files).
    </para>

    <para>
      on the bottom of the soundLayer edittor are four buttons, "^", "V", "+",
      and "-". "^" and "V" will push up or push down soundLayers. (HINT: You can
      move multiple soundLayers by clicking on one soundLayer, then holding down
      shift and clicking on the last of the soundLayers you want to move, then
      using the "^" and "V" buttons.) the "+" will add a soundLayer after the
      currently selected soundLayer. if no soundLayers are selected, then it
      will add one to the end of the list. the "-" button will remove any
      selected soundLayers. it should ask for a confirmation before removing any
      layers.
    </para>

  </simplesect>

  <simplesect>
    <title>The Timeline</title>

    <para>
      Below the polyObject bar on the right is the main time line. it shows the
      time line for the currently editted polyObject. The +/- buttons
      next to the scrollbars are used to zoom in on the time line, and those
      settings will be maintained between work sessions.
    </para>

    <para>
      On the time line, rt-clicking on any soundLayer will show menu options for
      adding different types of soundObjects, or pasting a soundObject from the
      buffer if any soundObjects in the buffer are available. if you are using
      the soundObject library and use the "copy instance" button, it copies it
      to the soundObject buffer for use with pasting into the time line via this
      menu.
    </para>

    <para>
      Once you have soundObjects on the time line, you can click on one to
      select it and see its editor below the time line, then click on the
      soundObject and drag the mouse to move the object around in time or to a
      different layer. Clicking and dragging near the right edge of the
      soundObject will allow you to change the duration of the soundObject.
    </para>

    <para>
      You can also select multiple soundObjects by holding down shift and
      clicking multiple soundObjects. Holding down shift and dragging one
      soundObject will move all of the selected soundObjects.
    </para>

    <para>
      If you have a soundObject selected, you can edit the properties of the
      soundObject also by using the soundObject property dialog (which can be
      opened from the menu "Windows -&gt; Sound Object Property Dialog" or by
      using the shortcut "F3". From this dialog you can change the name of the
      soundObject, it's start time and subjective duration, and also add and
      remove noteProcessors (if the soundObject supports it).
    </para>


    <para>
      Rt-clicking on a soundObject pops open a menu (shown in the picture above)
      which will let you add a soundObject to the soundObject library(only the
      one clicked on), convert soundObjects into a polyObject(any selected
      soundObjects), convert a soundObject into a genericScore soundObject, or
      cut/paste/remove. Converting to a polyObject is useful if you're editting
      on a time line and decide you'd like to group the soundObjects together to
      handle them as a single soundObject. Converting to a genericScore is
      useful if you're working with a soundObject that isn't a genericScore and
      want to start editting it as a genericScore.
    </para>

  </simplesect>

  <simplesect>
    <title>Tempo Editor</title>
    
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/tempo_editor.png" format="PNG" />
      </imageobject>
    </mediaobject>
    
    <para>
      The tempo editor is an optional use feature that allows editing of 
      overall tempo for a project using a line editor. This feature starts off
      as disabled and closed.  When in this state, whatever tempo values are 
      saved will show as dark gray line that is uneditable.  To enable the use
      of the tempo editor, select the checkbox marked "Use Tempo".  Selecting 
      this will redraw the tempo line in green.  To open up the
      tempo editor for a larger view and for editing, select the down arrow 
      button next to the "Use Tempo" checkbox.  
    </para>
    
    <para>
      Like other line editor objects in blue, left-clicking on an area where
      there is no point will insert a new point, while hovering over an existing
      point and pressing down, then dragging will allow moving of that point. 
      Right-clicking a point will delete a point.
    </para>
    
    <para>If right-clicking the tempo editor when not on a point, the following
    popup menu will appear:</para>
    
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/tempo_editor_popup.png" format="PNG" />
      </imageobject>
    </mediaobject>
  
    <para>
      The first option will allow editing of the values of the points entered
      into the line editor by use of a table with two columns: the first column
      being the beat on which the tempo change occurs and the right column being
      the tempo value that it should have. One may find using the table editor 
      easier to use to fine-tune values.
    </para>
    
    <para>
      The second option will allow changing the boundary min and max tempo 
      values for the line editor, as well as the option for what to do for points
      that fall outside of the new range.  The options here are "Truncate" which
      will set any points' values that lie outside the new range to the closest
      boundary value, or "Scale" which will take all point values from the old
      range and scale them to the new range.
    </para>
    
    <para>
      Use of the tempo editor is completely optional and users familiar with 
      Csound's t-statement for controlling global tempo may opt to disable using
      blue's tempo editor and to use a t-statement in the global orc section of
      the globals tab. Also, older blue projects that existed from before
      blue's tempo editor was developed can count on their projects loading 
      and running correctly even if opened with versions of blue that do have 
      a tempo editor, due to blue's default to disable the blue tempo editor.
      Regardless of which tempo system is chosen by the user, one should be
      careful not to use both at the same time as this will cause two 
      t-statements to exist in the generated CSD (the hand-entered one and the
      one generated by blue), causing unexpected performance results.
    </para>
    
    
  </simplesect>
    
  <simplesect>
    <title>Quick Time Dialog</title>

    <mediaobject>
      <imageobject>
        <imagedata fileref="images/quickTimeDialog.png" format="PNG" />
      </imageobject>
    </mediaobject>


    <para>
      While in the main timeline area, pressing ctrl-t when a soundObject is
      selected will bring up the quick time dialog. Here you can edit the start
      time and duration of the currently selected soundObject. When the dialog
      is first popped up the start time field is automatically focused for
      editing. You can press tab to switch between the two fields. Pressing
      enter will update the properties. Pressing escape, closing the dialog, or
      clicking anywhere outside of the dialog will cancel any changes and close
      the dialog.
    </para>

  </simplesect>

  <simplesect>
    <title>Snap</title>

    <mediaobject>
      <imageobject>
        <imagedata fileref="images/snap.png" format="PNG" />
      </imageobject>
    </mediaobject>

    <para>
      Enabling snapping provides a grid by which to line up your soundObjects.
      Snap is measured in beats. To open up the dialog, press the [...] button
      at the top right of the score timeline window. From here you can
      enable/disable snap for the current polyObject you are editing as well as
      edit what value to snap to. Snap values are local to the polyObject you
      are editing.
    </para>

  </simplesect>

  <simplesect>
    <title>Shortcuts for the Timeline</title>

    <table>
      <title>Shortcuts for the Timeline</title>
      <tgroup cols="2">
        <thead>
          <row>
            <entry>Shortcuts</entry>
            <entry>Description</entry>
          </row>
        </thead>
        <tbody>


          <row>
            <entry>ctrl-c</entry>
            <entry>copy selected soundObject(s)</entry>
          </row>

          <row>
            <entry>ctrl-x</entry>
            <entry>cut selected soundObject(s)</entry>
          </row>

          <row>
            <entry>ctrl-click</entry>
            <entry>paste soundObject(s) from buffer where clicked</entry>
          </row>

          <row>
            <entry>shift-click</entry>
            <entry>
              paste soundObject(s) from buffer as a PolyObject where clicked
            </entry>
          </row>

          <row>
            <entry>shift-click</entry>
            <entry>
              when selecting soundObjects, adds soundObject to selected if not
              currently selected and vice-versa
            </entry>
          </row>

          <row>
            <entry>double-click</entry>
            <entry>
              if selecting on timeline, select all soundObjects on layer where
              mouse clicked
            </entry>
          </row>

          <row>
            <entry>ctrl-d</entry>
            <entry>
              duplicate selected SoundObjects and place immediately after the
              originals
            </entry>
          </row>

          <row>
            <entry>ctrl-r</entry>
            <entry>
              repeat selected SoundObjects by copying and placing one after the
              other n number of times where n is a number value entered by the
              user (user is prompted with a dialog to enter number of times to
              repeat)
            </entry>
          </row>

          <row>
            <entry>ctrl-drag</entry>
            <entry>
              if ctrl is held down when drag is initiated of selected
              SoundObjects, a copy of the originals is made and left at their
              original times
            </entry>
          </row>

          <row>
            <entry>ctrl-t</entry>
            <entry>show quick time dialog</entry>
          </row>

          <row>
            <entry>alt-1</entry>
            <entry>switch to Score mode</entry>
          </row>
          <row>
            <entry>alt-2</entry>
            <entry>switch to Single Line mode</entry>
          </row>
          <row>
            <entry>alt-3</entry>
            <entry>switch to Multi Line mode</entry>
          </row>

        </tbody>
      </tgroup>
    </table>



  </simplesect>

</section>
